!to "cbmcrypt", cbm

CHAROUT = $FFD2

!source "platform.a"

entryPoint
    jmp main

!ifdef C64 {
!source "c64.a"
}

!ifdef VIC20 {
!source "vic20.a"
}

!ifdef PLUS4 {
!source "plus4.a"
}

!ifdef C128 {
!source "c128.a"
}

FAST_MUL = 1
IS_TEST =  1

!zone arith
!source "arith16.a"

!zone string
!source "string.a"

!zone diskio
!source "disk_io.a"

!zone crypto
!source "crypto.a"

!zone repl
!source "repl.a"

main
    lda #NOT_INITIALIZED
    sta ALREADY_INITIALIZED 
    lda #14
    jsr CHAROUT
    lda #147
    jsr CHAROUT
    jsr newCommand
    jsr progStart
    lda #142
    jsr CHAROUT
    rts